\documentclass[10pt,onecolumn,draftclsnofoot]{IEEEtran} %may need comma after
\usepackage{times}
\usepackage{graphicx}
\usepackage{array}
\usepackage{float}
\usepackage{geometry}
\usepackage{titling}
\usepackage{hyperref}
\usepackage{setspace}
\usepackage{listings}
\usepackage{color}
\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
\lstset{
        basicstyle=\footnotesize,
        commentstyle=\color{mygreen},
        frame=single,
        keywordstyle=\color{blue},
        numberstyle=\tiny\color{mygray},
        numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
        numbersep=5pt,
        language=bash,
        rulecolor=\color{black},
        }
\setlength{\parindent}{1cm}
\newgeometry{left=1.905cm, right=1.905cm}
%this is a comment
\title{ Homework 4, CS444, Spring 2018, Homework Group 10}
\author{Kamron Ebrahimi, Maximillian Schmidt \& Brendan Byers \\ ebrahimk, schmidtm, byersbr }
\date{\today}

\begin{document}

\begin{titlingpage}
\maketitle
\begin{abstract}
\begin{singlespace}
The report focuses on the creation of a best-fit allocation algorithm and how effeciently it allocates memory compared the the SLOB allocator, which operates using a first-fit algorithm.. 
\end{singlespace}
\end{abstract}
\end{titlingpage}


\tableofcontents

\newpage
o\begin{singlespace}
\section{\bf  Design and Implementation}

  \normalfont \indent The team started this assignment by first researching the allocation algorithms present in the Linux Kernel. To handle memory allocations that are smaller than a page, one of three allocation algorithms are used: SLAB, SLUB, and SLOB.  SLAB and SLUB are more complex allocation algorithms that are often much more effecient than SLOB.  SLAB allocation works be pre-allocating memory in caches so that when a request to allocate memory is recieved, it can immediatly fill that request.  Unlike SLOB, SLAB eliminates fragmentation due to it allocating an entire "slab" at once.  SLUB was created as a response to the SLAB allocator, which requires a lot of overhead to operate.  SLUB creates a \textit{slab} similar to the SLAB algorithm, but it will manipulate these slabs as needed, such as modifying queue sizes, merging slabs, and partial slabs.  Also, instead of storing metadata about the slab at the beginning of the block, SLUB keeps the metadata in a page struct, meaning that the data stored in the slab will be aligned to the block and fit within a 4k block without needing extra space. 
  \normalfont \indent For this assignment we will be comparing our best-fit allocation scheme to a SLOB implementation.  SLOB is a first-fit algorithm, meaning that when served with a request it will reference a list of free blocks, allocating to the first one that is large enough for the request.  This can result in a large amount of fragmentation because the first block that fits may not be the optimal block. The best fit algorithm that we will be creating will try and place blocks in the best spot, so there is less fragmentation.
  \normalfont \indent The team started their design by first analyzing the \textit{slob.c}. It is apparent that the \textit{slob\_page\_alloc()} is the function in which the linked list of blocks is traversed to find the first fit and the memory is actually allocated. Manipulating this function will be the first objective of the team. To implement a best-fit algorithm the team plans on taking a simple approach by maintaing several local variables which wil keep track of the best fit \textit{slob\_t} object int the list as well as any other pertinent variables used to actually allocate the memory within the best fit block. Judging by the source slob code the actual memory allocation takes place after line 232 and utilizes a number of confusing variables such as \textit{delta} and \textit{aligned} and some more straighformward variables such as \textit{prev} and \textit{avail}. To reuse as much code as possible the team plans to save seperate instances of all of these variables which reference the current best fit \textit{slob\_t} object. While traversing the linked list of blocks if a new best fit is found then the second instance of these variables will all be updated. In this fashion the team coimpartementalize the work done by this function. The first half of the function will traverse the linked list of blocks. Upon finding a block size that is a better fit for the memory allocation request a pointer to the new best fit block will be updated as well as a pointer to the \textit{prev} node of the best fit block, the \textit{delta} value of the best fit block and a pointer to the \textit{aligned} node of the best fir block. The second part of the function will perform the actual allocation by reusing the exact same code used in the \textit{first-fit} slob approach. The key difference is that the segment of the function which performs the memory allocation will use all of the  pointers and variables established for the best fit block which were determined during the scan of the linked list. In this fashion the team will not need to dig too deep into the inner workings of the code and can use the efficient algorithms already employeds by the first fit slob.   

\section{\bf Questions}
        \textbf{What do you think the main point of this assignment is?}\\
                \normalfont \indent The purpose of this assignment was to learn about how memory is allocated at the kernel level. Usually programs use virtual memory provided by the kernel to allocate objects and store information.  With this assignment we looked at the different types of algorithms, and their various shortfalls.  The SLOB allocator that we were comparing against was pretty simple to grasp, making it easier grasp how memory allocation and management work. Additionally, we had to understand and write algorithms that would result in fitting requests into the optimal memory location. \\\\
       \textbf{How did you personally aproach the problem? Design decisions, algorithm, etc.}\\
	  		\normalfont \indent 
	  \textbf{How did you ensure your solution was correct?}\\
                \normalfont \indent   
               \textbf{What did you learn?}\\
        		\normalfont \indent
        \textbf{How should the TA evaluate your work?}\\
	\section{\bf Work Log}

                \input{changelog.tex}

\newpage


\end{singlespace}
\restoregeometry
\end{document}

